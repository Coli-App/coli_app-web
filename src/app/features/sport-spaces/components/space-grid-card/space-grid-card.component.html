<mat-card class="space-card">
  <div class="card-image-container">
    <img [src]="space.imageUrl" [alt]="space.name" class="card-image">
    <div class="status-badge" [class.active]="space.state" [class.inactive]="!space.state">
      {{ space.state ? 'Activo' : 'Inactivo' }}
    </div>
  </div>

  <mat-card-content class="card-content">
    <div class="card-header">
      <h3 class="space-title">{{ space.name }}</h3>
      <button mat-icon-button [matMenuTriggerFor]="menu" class="menu-button">
        <mat-icon>more_vert</mat-icon>
      </button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="onView()">
          <mat-icon>visibility</mat-icon>
          <span>Ver detalles</span>
        </button>
        <button mat-menu-item (click)="onEdit()">
          <mat-icon>edit</mat-icon>
          <span>Editar</span>
        </button>
        <button mat-menu-item (click)="onDelete()" class="delete-option">
          <mat-icon>delete</mat-icon>
          <span>Eliminar</span>
        </button>
      </mat-menu>
    </div>

    <div class="space-ubication">
      <mat-chip class="space-ubication-chip">{{ space.ubication }}</mat-chip>
    </div>

    <p class="space-description">{{ space.description }}</p>

    <div class="space-info">
      <div class="info-item">
        <mat-icon>group</mat-icon>
        @if (space.capacity === 0) {
          <span class="text-gray-600">Aforo total ocupado actualmente</span>
        } @else {
          <span>Capacidad: {{ space.capacity }} personas</span>
        }
      </div>
    </div>

    @if(space.sports && space.sports.length > 0) {
    <div class="sports-container">
      <div class="sports-label">Deportes disponibles:</div>
      <div class="sports-chips">
        @for (sport of space.sports; track sport) {
        <mat-chip class="sport-chip">
          {{ sport.name }}
        </mat-chip>
        }
      </div>
    </div>
    }
  </mat-card-content>
</mat-card>
